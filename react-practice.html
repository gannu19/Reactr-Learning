<!DOCTYPE html>
<html>
  <head>
    <title>React with Babel</title>
    <style>
      

    </style>
  </head>
  <body>
    <div class="js-container"></div>

    <!-- React 18 CDN -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>

    <!-- Babel CDN -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- JSX Code -->
     <!---->
    <script type="text/babel">


      function ChatInput({onSend}){
        const [inputText, setInputText] = React.useState("");

        function SaveInputText(event){
          setInputText(event.target.value);

        }

        function sendMessage(){
         onSend(inputText);
         setInputText("");
        }

  
        return (
          <div className = "chat-input-container">
          <input placeholder =" Say Something...?" className="input-element" onChange={SaveInputText} width="70" />
          <button className="send-button" onClick={sendMessage}>Send</button>
          </div>
        )
      }

//Main logic for rednering the messages and image will appear based on the sender type 

      function ChatMessages(props){
        const {message, sender:from} = props;
        return (
          <div>         
          {from === "user" && <img src="user.png" className="image-user" />}
           <div className="chat-message-text">{message}</div>
          { from === "Chatbot" && <img src="chatbot.png" className="image-chatbot" />}

          </div>
        )
      }

//Function for all the chat messages and if any new message to be added will be added in this function
      function ChatMessagesList(){    
        const [MessageList, setMessageList] = React.useState([

          {message:"Hello! How can I help You ?", sender:"Chatbot"},
          {message:"Hello! Can you get todays date?", sender:"user"},
          {message:"sure, Today is February 28 ! Is there anything I can help with you!", sender:"Chatbot"},
          {message:"Can You give me todays day and present temperature?", sender:"user"},
          {message:"Today is Saturday, weekend so enjoy you day and the temperature is 30 degrees", sender:"Chatbot"},
          {message:"Thank You!", sender:"user"},
          {message:"Thankn you! Is there anything that I help with?", sender:"Chatbot"}
       ]
      
        )

        function AddMessage(text){
          const newMsg ={message:text, sender:"user"}
          setMessageList([...MessageList, newMsg])
        }

        return (
          <>
          <ChatInput onSend={AddMessage} />
          {
          MessageList.map((msg)=>(
            <div  className={ msg.sender==="user" ? "chat-message-user" : "chat-message-chatbot"}>          
            <ChatMessages 
              key={crypto.randomUUID()}
              message={msg.message}
              sender={msg.sender}
            />
            </div>
          ))
        }

          </>
        )

      }
//This will render the final UI 
      function App(){       
        return (
        <div className="App-container">   
        <ChatMessagesList />
        </div>
       )
      }

//creates a container and rendering      
     const container = document.querySelector('.js-container');
      const root = ReactDOM.createRoot(container);
      root.render(<App />);
    </script>
    
  </body>
</html>